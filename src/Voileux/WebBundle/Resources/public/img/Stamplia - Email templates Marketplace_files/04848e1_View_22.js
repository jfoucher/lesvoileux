// Generated by CoffeeScript 1.4.0
(function() {

  App.View = Backbone.View.extend({
    templateName: null,
    renderedTemplates: {},
    template: function(data, name) {
      var elem, html;
      if (!name) {
        if (!this.templateName) {
          throw Error("@templateName isn't defined");
        }
        name = this.templateName;
      }
      if (name in this.renderedTemplates) {
        return this.renderedTemplates[name](data);
      } else {
        elem = $("#" + name + "-tmpl");
        if (!(elem.length > 0)) {
          throw Error("template '" + name + "' (#" + name + "-tpl) doesn't exist");
        }
        html = elem.html();
        try {
          this.renderedTemplates[name] = _.template(html);
        } catch (E) {
          throw Error("failed to load template '" + name + "'");
        }
        return this.renderedTemplates[name](data);
      }
    }
  });

}).call(this);
